<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xml:lang="ja" lang="ja">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>
<body>
<ui:composition template="../layout.xhtml">

	<ui:define name="title">部署管理</ui:define>
	<ui:define name="headline">部署一覧</ui:define>
	<ui:define name="config"><script type="text/javascript" src="/ikko/resources/js/config/section.js"></script></ui:define>
	<ui:define name="js"><script type="text/javascript" src="/ikko/resources/js/master.js"></script></ui:define>

	<ui:define name="contents">
	<div id="local-menu">
		<a jsfc="h:link" outcome="/faces/main">メインメニューへ戻る</a>
	</div>

	<form jsfc="h:form" id="f" >
		<p><input type="button" class="editButton" value="新規登録" onclick="showAddForm()" /></p>
		<div id="inputForm" style="height:auto; margin:-6em 0 0 -14em; width:28em;">
			<div>
				<label for="sectionCode">部署コード <h:message for="sectionCode" id="sectionCodeMessage" class="error"/></label>
				<h:inputText type="text" id="sectionCode" value="#{sectionPage.section.sectionCode}" size="4" maxlength="2" required="true" class="ime">
					<f:validateLength maximum="2"/>
				</h:inputText>
			</div>
			<div>
				<label for="sectionName">部署名 <h:message for="sectionName" id="sectionNameMessage" class="error"/></label>
				<h:inputText type="text" id="sectionName" value="#{sectionPage.section.sectionName}" size="42" maxlength="40" required="true">
					<f:validateLength maximum="40"/>
				</h:inputText>
				<input jsfc="h:inputHidden" type="hidden" id="id" value="#{sectionPage.section.id}" />
			</div>
			<div style="text-align:right;">
				<input jsfc="h:commandButton" type="submit" id="saveButton" class="formButton" actionListener="#{sectionPage.save}" value="保存" style="float:left;" />
				<input jsfc="h:commandButton" type="submit" id="deleteButton" class="formButton" actionListener="#{sectionPage.delete}" value="削除" />
				<input type="submit" id="close" class="formButton" value="閉じる" />
			</div>
		</div><!-- end of form  -->

		<h:dataTable id="dataTable" value="#{sectionPage.sectionList}" var="row">
			<h:column>
				<f:facet name="header"><h:outputText value="ID"/></f:facet>
				<span id="id#{row.id}">#{row.id}</span>
			</h:column>
			<h:column>
				<f:facet name="header"><h:outputText value="部署コード"/></f:facet>
				<span id="sectionCode#{row.id}">#{row.sectionCode}</span>
			</h:column>
			<h:column>
				<f:facet name="header"><h:outputText value="部署名"/></f:facet>
				<span id="sectionName#{row.id}">#{row.sectionName}</span>
			</h:column>
			<h:column>
				<f:facet name="header"><h:outputText value="操作"/></f:facet>
				<input type="button" class="editButton" value="編集" onclick="showEditForm(#{row.id})" />
			</h:column>
		</h:dataTable><!-- end of list -->
	</form>
	</ui:define>

</ui:composition>
</body>
</html>